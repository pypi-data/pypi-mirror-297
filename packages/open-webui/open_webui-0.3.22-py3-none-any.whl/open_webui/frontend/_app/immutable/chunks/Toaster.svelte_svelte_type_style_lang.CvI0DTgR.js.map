{"version":3,"file":"Toaster.svelte_svelte_type_style_lang.CvI0DTgR.js","sources":["../../../../../../node_modules/svelte-sonner/dist/internal/helpers.js","../../../../../../node_modules/svelte-sonner/dist/state.js"],"sourcesContent":["import { writable } from 'svelte/store';\nexport function cn(...classes) {\n    return classes.filter(Boolean).join(' ');\n}\nexport const isBrowser = typeof document !== 'undefined';\n/**\n * A custom store that only allows setting/updating the value from the\n * browser to avoid SSR data leaks. By defining this helper, we don't\n * have to worry about checking for `isBrowser` in every place we\n * mutate the various stores.\n *\n * This should only ever be initialized with an empty array or object,\n * as otherwise the initial value will persist across requests.\n */\nexport function clientWritable(initialValue) {\n    const store = writable(initialValue);\n    function set(value) {\n        if (isBrowser) {\n            store.set(value);\n        }\n    }\n    function update(updater) {\n        if (isBrowser) {\n            store.update(updater);\n        }\n    }\n    return {\n        subscribe: store.subscribe,\n        set,\n        update\n    };\n}\n","import { get } from 'svelte/store';\nimport { clientWritable } from './internal/helpers.js';\nlet toastsCounter = 0;\nfunction createToastState() {\n    const toasts = clientWritable([]);\n    const heights = clientWritable([]);\n    function addToast(data) {\n        toasts.update((prev) => [data, ...prev]);\n    }\n    function create(data) {\n        const { message, ...rest } = data;\n        const id = typeof data?.id === 'number' || (data.id && data.id?.length > 0)\n            ? data.id\n            : toastsCounter++;\n        const dismissable = data.dismissable === undefined ? true : data.dismissable;\n        const type = data.type === undefined ? 'default' : data.type;\n        const $toasts = get(toasts);\n        const alreadyExists = $toasts.find((toast) => {\n            return toast.id === id;\n        });\n        if (alreadyExists) {\n            toasts.update((prev) => prev.map((toast) => {\n                if (toast.id === id) {\n                    return { ...toast, ...data, id, title: message, dismissable, type, updated: true };\n                }\n                return {\n                    ...toast,\n                    updated: false\n                };\n            }));\n        }\n        else {\n            addToast({ ...rest, id, title: message, dismissable, type });\n        }\n        return id;\n    }\n    function dismiss(id) {\n        if (id === undefined) {\n            toasts.set([]);\n            return;\n        }\n        toasts.update((prev) => prev.filter((toast) => toast.id !== id));\n        return id;\n    }\n    function message(message, data) {\n        return create({ ...data, type: 'default', message });\n    }\n    function error(message, data) {\n        return create({ ...data, type: 'error', message });\n    }\n    function success(message, data) {\n        return create({ ...data, type: 'success', message });\n    }\n    function info(message, data) {\n        return create({ ...data, type: 'info', message });\n    }\n    function warning(message, data) {\n        return create({ ...data, type: 'warning', message });\n    }\n    function loading(message, data) {\n        return create({ ...data, type: 'loading', message });\n    }\n    function promise(promise, data) {\n        if (!data) {\n            // Nothing to show\n            return;\n        }\n        let id = undefined;\n        if (data.loading !== undefined) {\n            id = create({\n                ...data,\n                promise,\n                type: 'loading',\n                message: data.loading\n            });\n        }\n        const p = promise instanceof Promise ? promise : promise();\n        let shouldDismiss = id !== undefined;\n        p.then((response) => {\n            // TODO: Clean up TS here, response has incorrect type\n            // @ts-expect-error: Incorrect response type\n            if (response && typeof response.ok === 'boolean' && !response.ok) {\n                shouldDismiss = false;\n                const message = typeof data.error === 'function'\n                    ? // @ts-expect-error: Incorrect response type\n                        data.error(`HTTP error! status: ${response.status}`)\n                    : data.error;\n                create({ id, type: 'error', message });\n            }\n            else if (data.success !== undefined) {\n                shouldDismiss = false;\n                const message = \n                // @ts-expect-error: TODO: Better function checking\n                typeof data.success === 'function' ? data.success(response) : data.success;\n                create({ id, type: 'success', message });\n            }\n        })\n            .catch((error) => {\n            if (data.error !== undefined) {\n                shouldDismiss = false;\n                const message = \n                // @ts-expect-error: TODO: Better function checking\n                typeof data.error === 'function' ? data.error(error) : data.error;\n                create({ id, type: 'error', message });\n            }\n        })\n            .finally(() => {\n            if (shouldDismiss) {\n                // Toast is still in load state (and will be indefinitely â€” dismiss it)\n                dismiss(id);\n                id = undefined;\n            }\n            data.finally?.();\n        });\n        return id;\n    }\n    function custom(component, data) {\n        const id = data?.id || toastsCounter++;\n        create({ component, id, ...data });\n        return id;\n    }\n    function removeHeight(id) {\n        heights.update((prev) => prev.filter((height) => height.toastId !== id));\n    }\n    function addHeight(height) {\n        heights.update((prev) => [height, ...prev]);\n    }\n    function reset() {\n        toasts.set([]);\n        heights.set([]);\n    }\n    return {\n        // methods\n        create,\n        addToast,\n        dismiss,\n        message,\n        error,\n        success,\n        info,\n        warning,\n        loading,\n        promise,\n        custom,\n        removeHeight,\n        addHeight,\n        reset,\n        // stores\n        toasts,\n        heights\n    };\n}\nexport const toastState = createToastState();\n// bind this to the toast function\nfunction toastFunction(message, data) {\n    return toastState.create({\n        message,\n        ...data\n    });\n}\nconst basicToast = toastFunction;\n// We use `Object.assign` to maintain the correct types as we would lose them otherwise\nexport const toast = Object.assign(basicToast, {\n    success: toastState.success,\n    info: toastState.info,\n    warning: toastState.warning,\n    error: toastState.error,\n    custom: toastState.custom,\n    message: toastState.message,\n    promise: toastState.promise,\n    dismiss: toastState.dismiss,\n    loading: toastState.loading\n});\nexport const useEffect = (subscribe) => ({ subscribe });\n"],"names":["cn","classes","isBrowser","clientWritable","initialValue","store","writable","set","value","update","updater","toastsCounter","createToastState","toasts","heights","addToast","data","prev","create","message","rest","id","_a","dismissable","type","get","toast","dismiss","error","success","info","warning","loading","promise","p","shouldDismiss","response","custom","component","removeHeight","height","addHeight","reset","toastState","toastFunction","basicToast","useEffect","subscribe"],"mappings":"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","x_google_ignoreList":[0,1]}