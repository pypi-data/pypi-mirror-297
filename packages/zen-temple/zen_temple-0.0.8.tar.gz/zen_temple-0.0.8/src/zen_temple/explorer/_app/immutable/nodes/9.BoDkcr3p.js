import{s as rt,r as Y,e as w,a as B,c as y,m as le,g as R,b as S,f as v,o as T,v as Ce,i as J,h as E,w as F,y as Be,z as ye,A as De,B as Re,C as Ye,t as Fe,d as Ge,D as Ie,j as Je,E as Se,n as ee}from"../chunks/scheduler.Bjr9RZaN.js";import{S as ct,i as _t,b as G,c as ue,d as de,m as pe,t as P,a as Q,e as Ee,f as he,g as we}from"../chunks/index.NoFf4Nre.js";import{e as Ve}from"../chunks/each.D6YF6ztN.js";import{S as ft,f as ut,B as dt,g as pt}from"../chunks/utils.C2bpF0DH.js";import{R as He,A as Le}from"../chunks/Radio.D-A72FRT.js";function Me(t,e,n){const r=t.slice();return r[64]=e[n],r}function Oe(t,e,n){const r=t.slice();return r[67]=e[n][0],r[68]=e[n][1],r}function ze(t){let e,n,r='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">Variable Selection</button>',a,d,o,i,c,k,D,l,f,I,s=Ve(Object.entries(t[5])),h=[];for(let g=0;g<s.length;g+=1)h[g]=qe(Oe(t,s,g));let b=t[5]&&t[9]&&t[5][t[9]]!=null&&je(t),C=t[9]!=null&&Ne(t);return{c(){e=w("div"),n=w("h2"),n.innerHTML=r,a=B(),d=w("div"),o=w("div"),i=w("select");for(let g=0;g<h.length;g+=1)h[g].c();k=B(),b&&b.c(),D=B(),C&&C.c(),this.h()},l(g){e=y(g,"DIV",{class:!0});var H=S(e);n=y(H,"H2",{class:!0,"data-svelte-h":!0}),le(n)!=="svelte-1b944yg"&&(n.innerHTML=r),a=R(H),d=y(H,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var m=S(d);o=y(m,"DIV",{class:!0});var O=S(o);i=y(O,"SELECT",{});var X=S(i);for(let U=0;U<h.length;U+=1)h[U].l(X);X.forEach(v),k=R(O),b&&b.l(O),D=R(O),C&&C.l(O),O.forEach(v),m.forEach(v),H.forEach(v),this.h()},h(){T(n,"class","accordion-header"),i.disabled=c=t[18]||t[19],t[9]===void 0&&Be(()=>t[32].call(i)),T(o,"class","accordion-body"),T(d,"id","collapseTwo"),T(d,"class","accordion-collapse collapse"),T(d,"data-bs-parent","#accordionExample"),T(e,"class","accordion-item")},m(g,H){J(g,e,H),E(e,n),E(e,a),E(e,d),E(d,o),E(o,i);for(let m=0;m<h.length;m+=1)h[m]&&h[m].m(i,null);ye(i,t[9],!0),E(o,k),b&&b.m(o,null),E(o,D),C&&C.m(o,null),l=!0,f||(I=[De(i,"change",t[32]),De(i,"change",t[33])],f=!0)},p(g,H){if(H[0]&32){s=Ve(Object.entries(g[5]));let m;for(m=0;m<s.length;m+=1){const O=Oe(g,s,m);h[m]?h[m].p(O,H):(h[m]=qe(O),h[m].c(),h[m].m(i,null))}for(;m<h.length;m+=1)h[m].d(1);h.length=s.length}(!l||H[0]&786432&&c!==(c=g[18]||g[19]))&&(i.disabled=c),H[0]&544&&ye(i,g[9]),g[5]&&g[9]&&g[5][g[9]]!=null?b?(b.p(g,H),H[0]&544&&P(b,1)):(b=je(g),b.c(),P(b,1),b.m(o,D)):b&&(we(),Q(b,1,1,()=>{b=null}),Ee()),g[9]!=null?C?C.p(g,H):(C=Ne(g),C.c(),C.m(o,null)):C&&(C.d(1),C=null)},i(g){l||(P(b),l=!0)},o(g){Q(b),l=!1},d(g){g&&v(e),Re(h,g),b&&b.d(),C&&C.d(),f=!1,Ye(I)}}}function qe(t){let e,n=t[67]+"",r,a,d;return{c(){e=w("option"),r=Fe(n),a=B(),this.h()},l(o){e=y(o,"OPTION",{});var i=S(e);r=Ge(i,n),a=R(i),i.forEach(v),this.h()},h(){e.__value=d=t[67],Ie(e,e.__value)},m(o,i){J(o,e,i),E(e,r),E(e,a)},p(o,i){i[0]&32&&n!==(n=o[67]+"")&&Je(r,n),i[0]&32&&d!==(d=o[67])&&(e.__value=d,Ie(e,e.__value))},d(o){o&&v(e)}}}function je(t){let e,n,r,a;function d(c){t[34](c)}function o(c){t[35](c)}let i={enabled:!t[18]&&!t[19]};return t[5][t[9]]!==void 0&&(i.options=t[5][t[9]]),t[14]!==void 0&&(i.selected_option=t[14]),e=new He({props:i}),Y.push(()=>G(e,"options",d)),Y.push(()=>G(e,"selected_option",o)),e.$on("selection-changed",t[36]),{c(){ue(e.$$.fragment)},l(c){de(e.$$.fragment,c)},m(c,k){pe(e,c,k),a=!0},p(c,k){const D={};k[0]&786432&&(D.enabled=!c[18]&&!c[19]),!n&&k[0]&544&&(n=!0,D.options=c[5][c[9]],F(()=>n=!1)),!r&&k[0]&16384&&(r=!0,D.selected_option=c[14],F(()=>r=!1)),e.$set(D)},i(c){a||(P(e.$$.fragment,c),a=!0)},o(c){Q(e.$$.fragment,c),a=!1},d(c){he(e,c)}}}function Ne(t){let e,n,r,a="Carrier",d,o,i,c,k,D=Ve(t[0]),l=[];for(let f=0;f<D.length;f+=1)l[f]=Pe(Me(t,D,f));return{c(){e=w("div"),n=w("div"),r=w("h3"),r.textContent=a,d=B(),o=w("select");for(let f=0;f<l.length;f+=1)l[f].c();this.h()},l(f){e=y(f,"DIV",{class:!0});var I=S(e);n=y(I,"DIV",{class:!0});var s=S(n);r=y(s,"H3",{"data-svelte-h":!0}),le(r)!=="svelte-xc22hm"&&(r.textContent=a),d=R(s),o=y(s,"SELECT",{});var h=S(o);for(let b=0;b<l.length;b+=1)l[b].l(h);h.forEach(v),s.forEach(v),I.forEach(v),this.h()},h(){o.disabled=i=t[18]||t[19],t[10]===void 0&&Be(()=>t[37].call(o)),T(n,"class","col"),T(e,"class","row")},m(f,I){J(f,e,I),E(e,n),E(n,r),E(n,d),E(n,o);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(o,null);ye(o,t[10],!0),c||(k=[De(o,"change",t[37]),De(o,"change",t[38])],c=!0)},p(f,I){if(I[0]&1){D=Ve(f[0]);let s;for(s=0;s<D.length;s+=1){const h=Me(f,D,s);l[s]?l[s].p(h,I):(l[s]=Pe(h),l[s].c(),l[s].m(o,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=D.length}I[0]&786432&&i!==(i=f[18]||f[19])&&(o.disabled=i),I[0]&1025&&ye(o,f[10])},d(f){f&&v(e),Re(l,f),c=!1,Ye(k)}}}function Pe(t){let e,n=t[64]+"",r,a,d;return{c(){e=w("option"),r=Fe(n),a=B(),this.h()},l(o){e=y(o,"OPTION",{});var i=S(e);r=Ge(i,n),a=R(i),i.forEach(v),this.h()},h(){e.__value=d=t[64],Ie(e,e.__value)},m(o,i){J(o,e,i),E(e,r),E(e,a)},p(o,i){i[0]&1&&n!==(n=o[64]+"")&&Je(r,n),i[0]&1&&d!==(d=o[64])&&(e.__value=d,Ie(e,e.__value))},d(o){o&&v(e)}}}function Ae(t){let e,n,r='<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">Data Selection</button>',a,d,o,i,c,k,D="Aggregation",l,f,I,s,h,b,C,g="Normalisation",H,m,O,X,U,z,M,N,A,Z="Year",fe,$,ge,_e,ae;function ke(p){t[39](p)}function oe(p){t[40](p)}let V={enabled:!t[18]&&!t[19]};t[6]!==void 0&&(V.options=t[6]),t[20]!==void 0&&(V.selected_option=t[20]),f=new He({props:V}),Y.push(()=>G(f,"options",ke)),Y.push(()=>G(f,"selected_option",oe)),f.$on("selection-changed",t[41]);function q(p){t[42](p)}function me(p){t[43](p)}let te={enabled:!t[18]&&!t[19]};t[16]!==void 0&&(te.options=t[16]),t[17]!==void 0&&(te.selected_option=t[17]),m=new He({props:te}),Y.push(()=>G(m,"options",q)),Y.push(()=>G(m,"selected_option",me)),m.$on("selection-changed",t[44]);const be=[gt,ht],_=[];function L(p,j){return p[20]=="technology"?0:1}z=L(t),M=_[z]=be[z](t);function x(p){t[51](p)}function ce(p){t[52](p)}let se={enabled:!t[18]&&!t[19]};return t[15]!==void 0&&(se.selected_elements=t[15]),t[4]!==void 0&&(se.elements=t[4]),$=new Le({props:se}),Y.push(()=>G($,"selected_elements",x)),Y.push(()=>G($,"elements",ce)),$.$on("selection-changed",t[53]),{c(){e=w("div"),n=w("h2"),n.innerHTML=r,a=B(),d=w("div"),o=w("div"),i=w("div"),c=w("div"),k=w("h3"),k.textContent=D,l=B(),ue(f.$$.fragment),h=B(),b=w("div"),C=w("h3"),C.textContent=g,H=B(),ue(m.$$.fragment),U=B(),M.c(),N=B(),A=w("h3"),A.textContent=Z,fe=B(),ue($.$$.fragment),this.h()},l(p){e=y(p,"DIV",{class:!0});var j=S(e);n=y(j,"H2",{class:!0,"data-svelte-h":!0}),le(n)!=="svelte-hz94lo"&&(n.innerHTML=r),a=R(j),d=y(j,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var ie=S(d);o=y(ie,"DIV",{class:!0});var K=S(o);i=y(K,"DIV",{class:!0});var ne=S(i);c=y(ne,"DIV",{class:!0});var re=S(c);k=y(re,"H3",{"data-svelte-h":!0}),le(k)!=="svelte-126hufg"&&(k.textContent=D),l=R(re),de(f.$$.fragment,re),re.forEach(v),h=R(ne),b=y(ne,"DIV",{class:!0});var ve=S(b);C=y(ve,"H3",{"data-svelte-h":!0}),le(C)!=="svelte-1273uzu"&&(C.textContent=g),H=R(ve),de(m.$$.fragment,ve),ve.forEach(v),ne.forEach(v),U=R(K),M.l(K),N=R(K),A=y(K,"H3",{"data-svelte-h":!0}),le(A)!=="svelte-r9e7qt"&&(A.textContent=Z),fe=R(K),de($.$$.fragment,K),K.forEach(v),ie.forEach(v),j.forEach(v),this.h()},h(){T(n,"class","accordion-header"),T(c,"class","col-6"),T(b,"class","col-6"),T(i,"class","row"),T(o,"class","accordion-body"),T(d,"id","collapseThree"),T(d,"class","accordion-collapse collapse"),T(d,"data-bs-parent","#accordionExample"),T(e,"class","accordion-item")},m(p,j){J(p,e,j),E(e,n),E(e,a),E(e,d),E(d,o),E(o,i),E(i,c),E(c,k),E(c,l),pe(f,c,null),E(i,h),E(i,b),E(b,C),E(b,H),pe(m,b,null),E(o,U),_[z].m(o,null),E(o,N),E(o,A),E(o,fe),pe($,o,null),ae=!0},p(p,j){const ie={};j[0]&786432&&(ie.enabled=!p[18]&&!p[19]),!I&&j[0]&64&&(I=!0,ie.options=p[6],F(()=>I=!1)),!s&&j[0]&1048576&&(s=!0,ie.selected_option=p[20],F(()=>s=!1)),f.$set(ie);const K={};j[0]&786432&&(K.enabled=!p[18]&&!p[19]),!O&&j[0]&65536&&(O=!0,K.options=p[16],F(()=>O=!1)),!X&&j[0]&131072&&(X=!0,K.selected_option=p[17],F(()=>X=!1)),m.$set(K);let ne=z;z=L(p),z===ne?_[z].p(p,j):(we(),Q(_[ne],1,1,()=>{_[ne]=null}),Ee(),M=_[z],M?M.p(p,j):(M=_[z]=be[z](p),M.c()),P(M,1),M.m(o,N));const re={};j[0]&786432&&(re.enabled=!p[18]&&!p[19]),!ge&&j[0]&32768&&(ge=!0,re.selected_elements=p[15],F(()=>ge=!1)),!_e&&j[0]&16&&(_e=!0,re.elements=p[4],F(()=>_e=!1)),$.$set(re)},i(p){ae||(P(f.$$.fragment,p),P(m.$$.fragment,p),P(M),P($.$$.fragment,p),ae=!0)},o(p){Q(f.$$.fragment,p),Q(m.$$.fragment,p),Q(M),Q($.$$.fragment,p),ae=!1},d(p){p&&v(e),he(f),he(m),_[z].d(),he($)}}}function ht(t){let e,n="Node",r,a,d,o,i;function c(l){t[48](l)}function k(l){t[49](l)}let D={enabled:!t[18]&&!t[19]};return t[13]!==void 0&&(D.selected_elements=t[13]),t[3]!==void 0&&(D.elements=t[3]),a=new Le({props:D}),Y.push(()=>G(a,"selected_elements",c)),Y.push(()=>G(a,"elements",k)),a.$on("selection-changed",t[50]),{c(){e=w("h3"),e.textContent=n,r=B(),ue(a.$$.fragment)},l(l){e=y(l,"H3",{"data-svelte-h":!0}),le(e)!=="svelte-ocjo5w"&&(e.textContent=n),r=R(l),de(a.$$.fragment,l)},m(l,f){J(l,e,f),J(l,r,f),pe(a,l,f),i=!0},p(l,f){const I={};f[0]&786432&&(I.enabled=!l[18]&&!l[19]),!d&&f[0]&8192&&(d=!0,I.selected_elements=l[13],F(()=>d=!1)),!o&&f[0]&8&&(o=!0,I.elements=l[3],F(()=>o=!1)),a.$set(I)},i(l){i||(P(a.$$.fragment,l),i=!0)},o(l){Q(a.$$.fragment,l),i=!1},d(l){l&&(v(e),v(r)),he(a,l)}}}function gt(t){let e,n="Technology",r,a,d,o,i;function c(l){t[45](l)}function k(l){t[46](l)}let D={enabled:!t[18]&&!t[19]};return t[12]!==void 0&&(D.selected_elements=t[12]),t[11]!==void 0&&(D.elements=t[11]),a=new Le({props:D}),Y.push(()=>G(a,"selected_elements",c)),Y.push(()=>G(a,"elements",k)),a.$on("selection-changed",t[47]),{c(){e=w("h3"),e.textContent=n,r=B(),ue(a.$$.fragment)},l(l){e=y(l,"H3",{"data-svelte-h":!0}),le(e)!=="svelte-q7cxxi"&&(e.textContent=n),r=R(l),de(a.$$.fragment,l)},m(l,f){J(l,e,f),J(l,r,f),pe(a,l,f),i=!0},p(l,f){const I={};f[0]&786432&&(I.enabled=!l[18]&&!l[19]),!d&&f[0]&4096&&(d=!0,I.selected_elements=l[12],F(()=>d=!1)),!o&&f[0]&2048&&(o=!0,I.elements=l[11],F(()=>o=!1)),a.$set(I)},i(l){i||(P(a.$$.fragment,l),i=!0)},o(l){Q(a.$$.fragment,l),i=!1},d(l){l&&(v(e),v(r)),he(a,l)}}}function bt(t){let e,n,r,a;function d(c){t[54](c)}function o(c){t[55](c)}let i={};return t[21]!==void 0&&(i.config=t[21]),t[8].detail.system.reference_year!==void 0&&(i.year_offset=t[8].detail.system.reference_year),e=new dt({props:i}),Y.push(()=>G(e,"config",d)),Y.push(()=>G(e,"year_offset",o)),{c(){ue(e.$$.fragment)},l(c){de(e.$$.fragment,c)},m(c,k){pe(e,c,k),a=!0},p(c,k){const D={};!n&&k[0]&2097152&&(n=!0,D.config=c[21],F(()=>n=!1)),!r&&k[0]&256&&(r=!0,D.year_offset=c[8].detail.system.reference_year,F(()=>r=!1)),e.$set(D)},i(c){a||(P(e.$$.fragment,c),a=!0)},o(c){Q(e.$$.fragment,c),a=!1},d(c){he(e,c)}}}function mt(t){let e,n="No data with this selection.";return{c(){e=w("div"),e.textContent=n,this.h()},l(r){e=y(r,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-1doxial"&&(e.textContent=n),this.h()},h(){T(e,"class","text-center")},m(r,a){J(r,e,a)},p:ee,i:ee,o:ee,d(r){r&&v(e)}}}function vt(t){let e,n="No technologies with this selection.";return{c(){e=w("div"),e.textContent=n,this.h()},l(r){e=y(r,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-1ontq7"&&(e.textContent=n),this.h()},h(){T(e,"class","text-center")},m(r,a){J(r,e,a)},p:ee,i:ee,o:ee,d(r){r&&v(e)}}}function kt(t){let e;return{c(){e=w("div")},l(n){e=y(n,"DIV",{}),S(e).forEach(v)},m(n,r){J(n,e,r)},p:ee,i:ee,o:ee,d(n){n&&v(e)}}}function Ct(t){let e;return{c(){e=w("div")},l(n){e=y(n,"DIV",{}),S(e).forEach(v)},m(n,r){J(n,e,r)},p:ee,i:ee,o:ee,d(n){n&&v(e)}}}function Et(t){let e,n='<div class="spinner-border center" role="status"><span class="visually-hidden">Loading...</span></div>';return{c(){e=w("div"),e.innerHTML=n,this.h()},l(r){e=y(r,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-1a5ljpq"&&(e.innerHTML=n),this.h()},h(){T(e,"class","text-center")},m(r,a){J(r,e,a)},p:ee,i:ee,o:ee,d(r){r&&v(e)}}}function wt(t){let e,n='<div class="col"><h2>Production</h2></div>',r,a,d,o,i,c,k,D='<button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Solution Selection</button>',l,f,I,s,h,b,C,g,H,m,O,X,U,z,M,N,A,Z;function fe(_){t[26](_)}function $(_){t[27](_)}function ge(_){t[28](_)}function _e(_){t[29](_)}function ae(_){t[30](_)}function ke(_){t[31](_)}let oe={enabled:!t[18]&&!t[19]};t[0]!==void 0&&(oe.carriers=t[0]),t[1]!==void 0&&(oe.nodes=t[1]),t[4]!==void 0&&(oe.years=t[4]),t[8]!==void 0&&(oe.selected_solution=t[8]),t[2]!==void 0&&(oe.edges=t[2]),t[18]!==void 0&&(oe.loading=t[18]),s=new ft({props:oe}),Y.push(()=>G(s,"carriers",fe)),Y.push(()=>G(s,"nodes",$)),Y.push(()=>G(s,"years",ge)),Y.push(()=>G(s,"selected_solution",_e)),Y.push(()=>G(s,"edges",ae)),Y.push(()=>G(s,"loading",ke)),s.$on("solution_selected",t[22]);let V=!t[18]&&t[8]&&ze(t),q=!t[19]&&t[10]&&t[11].length>0&&Ae(t);const me=[Et,Ct,kt,vt,mt,bt],te=[];function be(_,L){return _[18]||_[19]?0:_[8]==null?1:_[7]==null?2:_[11].length==0?3:_[7].length==0?4:5}return N=be(t),A=te[N]=me[N](t),{c(){e=w("div"),e.innerHTML=n,r=B(),a=w("div"),d=w("div"),o=w("div"),i=w("div"),c=w("div"),k=w("h2"),k.innerHTML=D,l=B(),f=w("div"),I=w("div"),ue(s.$$.fragment),O=B(),V&&V.c(),X=B(),q&&q.c(),U=B(),z=w("div"),M=w("div"),A.c(),this.h()},l(_){e=y(_,"DIV",{class:!0,"data-svelte-h":!0}),le(e)!=="svelte-1ow2g6f"&&(e.innerHTML=n),r=R(_),a=y(_,"DIV",{class:!0});var L=S(a);d=y(L,"DIV",{class:!0,style:!0});var x=S(d);o=y(x,"DIV",{class:!0,style:!0});var ce=S(o);i=y(ce,"DIV",{class:!0,id:!0});var se=S(i);c=y(se,"DIV",{class:!0});var p=S(c);k=y(p,"H2",{class:!0,"data-svelte-h":!0}),le(k)!=="svelte-64kjki"&&(k.innerHTML=D),l=R(p),f=y(p,"DIV",{id:!0,class:!0,"data-bs-parent":!0});var j=S(f);I=y(j,"DIV",{class:!0});var ie=S(I);de(s.$$.fragment,ie),ie.forEach(v),j.forEach(v),p.forEach(v),O=R(se),V&&V.l(se),X=R(se),q&&q.l(se),se.forEach(v),ce.forEach(v),x.forEach(v),L.forEach(v),U=R(_),z=y(_,"DIV",{class:!0});var K=S(z);M=y(K,"DIV",{class:!0,style:!0});var ne=S(M);A.l(ne),ne.forEach(v),K.forEach(v),this.h()},h(){T(e,"class","row"),T(k,"class","accordion-header"),T(I,"class","accordion-body"),T(f,"id","collapseOne"),T(f,"class","accordion-collapse collapse show"),T(f,"data-bs-parent","#accordionExample"),T(c,"class","accordion-item solution-selection"),T(i,"class","accordion"),T(i,"id","accordionExample"),T(o,"class","filters"),Ce(o,"position","absolute"),Ce(o,"width","100%"),T(d,"class","col position-relative"),Ce(d,"z-index","1"),Ce(d,"position","relative"),T(a,"class","row"),T(M,"class","col"),Ce(M,"margin-top","400px"),T(z,"class","row")},m(_,L){J(_,e,L),J(_,r,L),J(_,a,L),E(a,d),E(d,o),E(o,i),E(i,c),E(c,k),E(c,l),E(c,f),E(f,I),pe(s,I,null),E(i,O),V&&V.m(i,null),E(i,X),q&&q.m(i,null),J(_,U,L),J(_,z,L),E(z,M),te[N].m(M,null),Z=!0},p(_,L){const x={};L[0]&786432&&(x.enabled=!_[18]&&!_[19]),!h&&L[0]&1&&(h=!0,x.carriers=_[0],F(()=>h=!1)),!b&&L[0]&2&&(b=!0,x.nodes=_[1],F(()=>b=!1)),!C&&L[0]&16&&(C=!0,x.years=_[4],F(()=>C=!1)),!g&&L[0]&256&&(g=!0,x.selected_solution=_[8],F(()=>g=!1)),!H&&L[0]&4&&(H=!0,x.edges=_[2],F(()=>H=!1)),!m&&L[0]&262144&&(m=!0,x.loading=_[18],F(()=>m=!1)),s.$set(x),!_[18]&&_[8]?V?(V.p(_,L),L[0]&262400&&P(V,1)):(V=ze(_),V.c(),P(V,1),V.m(i,X)):V&&(we(),Q(V,1,1,()=>{V=null}),Ee()),!_[19]&&_[10]&&_[11].length>0?q?(q.p(_,L),L[0]&527360&&P(q,1)):(q=Ae(_),q.c(),P(q,1),q.m(i,null)):q&&(we(),Q(q,1,1,()=>{q=null}),Ee());let ce=N;N=be(_),N===ce?te[N].p(_,L):(we(),Q(te[ce],1,1,()=>{te[ce]=null}),Ee(),A=te[N],A?A.p(_,L):(A=te[N]=me[N](_),A.c()),P(A,1),A.m(M,null))},i(_){Z||(P(s.$$.fragment,_),P(V),P(q),P(A),Z=!0)},o(_){Q(s.$$.fragment,_),Q(V),Q(q),Q(A),Z=!1},d(_){_&&(v(e),v(r),v(a),v(U),v(z)),he(s),V&&V.d(),q&&q.d(),te[N].d()}}}function yt(t,e,n){let r,a=[],d=[],o=[],i=[],c=[],k={conversion:["input","output"],storage:["charge","discharge"],transport:null,import_export:["import","export"]},D=["technology","node"],l=null,f=null,I="",s=null,h=null,b=null,C=[],g=[],H=[],m=null,O=[],X=["not_normalized","normalized"],U="not_normalized",z=!1,M=!1,N="node",Z={type:"bar",data:{datasets:[]},options:{responsive:!0,scales:{x:{stacked:!0,title:{display:!0,text:"Year"}},y:{stacked:!0,title:{display:!0,text:h+" ["+I+"]"}}}}};function fe(){n(15,O=c),n(13,H=d),n(12,g=C)}function $(){switch(h){case"conversion":return"flow_conversion_"+m;case"storage":return"flow_storage_"+m;case"transport":return"flow_transport";case"import_export":return"flow_"+m;default:return null}}async function ge(){n(19,M=!0);let u=$();u!==null&&await pt(s.solution_name,u,s.scenario_name,s.detail.system.reference_year,s.detail.system.interval_between_years).then(W=>{r=W.data,f=W.unit,n(19,M=!1)})}function _e(){if(n(7,l=null),n(10,b=""),s==null){n(0,a=[]);return}switch(h){case"import_export":m=="import"?n(0,a=s.detail.carriers_import):n(0,a=s.detail.carriers_export);break;case"conversion":let u=s.detail.carriers_output;m=="input"&&(u=s.detail.carriers_input),n(0,a=[]);for(const W in u)n(0,a=[...new Set([...a,...u[W]])]);break;default:n(0,a=s.detail.system.set_carriers)}a.length==1&&n(10,b=a[0]),fe()}function ae(){if(n(7,l=[]),h!=null&&b!=null){switch(n(11,C=(s==null?void 0:s.detail.system.set_technologies)??[]),console.log(s),h){case"conversion":n(11,C=[]);let u=s.detail.carriers_input;m=="output"&&(u=s.detail.carriers_output);for(const W in u)u[W].includes(b)&&C.push(W);break;case"storage":n(11,C=(s==null?void 0:s.detail.system.set_storage_technologies.filter(W=>(s==null?void 0:s.detail.reference_carrier[W])==b))??[]);break;case"transport":n(11,C=(s==null?void 0:s.detail.system.set_transport_technologies.filter(W=>(s==null?void 0:s.detail.reference_carrier[W])==b))??[]);break;case"import_export":n(11,C=[]);break}if(f&&C.length>0){let u=f.data.filter(W=>C.includes(W["set_"+h+"_technologies"]));u.length>0&&(I=u[0][0])}C.length==1&&n(12,g=[C[0]]),fe()}}function ke(){n(3,i=d),h=="transport"&&n(3,i=o)}function oe(){n(7,l=[]),h!=null&&(k[h]!=null&&n(14,m=k[h][0]),ge().then(()=>{_e(),ae(),ke(),V()}))}function V(){if(N=="technology"?n(13,H=d):n(12,g=C),H.length==0||O.length==0||g.length==0||!r){n(7,l=[]);return}let u={},W={},Te="node";h=="transport"&&(Te="edge"),N=="technology"?(u[Te]=H,W.technology=g):(u.technology=g,W[Te]=H);let it=c.filter(at=>!O.includes(at));n(7,l=ut(r.data,u,W,it,U=="normalized")),n(21,Z.data={datasets:l},Z),n(21,Z.options.scales.y.title.text=h+" ["+I+"]",Z)}function q(u){a=u,n(0,a)}function me(u){d=u,n(1,d)}function te(u){c=u,n(4,c)}function be(u){s=u,n(8,s)}function _(u){o=u,n(2,o)}function L(u){z=u,n(18,z)}function x(){h=Se(this),n(9,h),n(5,k)}const ce=()=>{oe()};function se(u){t.$$.not_equal(k[h],u)&&(k[h]=u,n(5,k))}function p(u){m=u,n(14,m)}const j=u=>{_e(),ae(),V()};function ie(){b=Se(this),n(10,b),n(0,a)}const K=()=>{ae(),V()};function ne(u){D=u,n(6,D)}function re(u){N=u,n(20,N)}const ve=u=>{V()};function Ke(u){X=u,n(16,X)}function Qe(u){U=u,n(17,U)}const Ue=u=>{V()};function We(u){g=u,n(12,g)}function Xe(u){C=u,n(11,C)}const Ze=()=>{V()};function $e(u){H=u,n(13,H)}function xe(u){i=u,n(3,i)}const et=u=>{V()};function tt(u){O=u,n(15,O)}function nt(u){c=u,n(4,c)}const lt=u=>{V()};function ot(u){Z=u,n(21,Z)}function st(u){t.$$.not_equal(s.detail.system.reference_year,u)&&(s.detail.system.reference_year=u,n(8,s))}return[a,d,o,i,c,k,D,l,s,h,b,C,g,H,m,O,X,U,z,M,N,Z,_e,ae,oe,V,q,me,te,be,_,L,x,ce,se,p,j,ie,K,ne,re,ve,Ke,Qe,Ue,We,Xe,Ze,$e,xe,et,tt,nt,lt,ot,st]}class Lt extends ct{constructor(e){super(),_t(this,e,yt,wt,rt,{},null,[-1,-1,-1])}}export{Lt as component};
