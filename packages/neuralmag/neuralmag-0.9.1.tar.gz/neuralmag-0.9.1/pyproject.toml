[build-system]
requires = ["setuptools"]
build-backend = "setuptools.build_meta"

[project]
name = "neuralmag"
version = "0.9.1"
description = "NeuralMag is a micromagnetic GPU code implementing the nodal FD discretization"
readme = "README.md"
requires-python = ">=3.8, <3.12"

authors = [
{ name = "Claas Abert", email = "claas.abert@univie.ac.at" },
{ name = "Florian Bruckner", email = "florian.bruckner@univie.ac.at" },
{ name = "Martin Lang", email = "martin.lang@mpsd.mpg.de" },
{ name = "Swapneel Amit Pathak", email = "swapneel-amit.pathak@mpsd.mpg.de" },
{ name = "Samuel Hol", email = "samuel.holt@mpsd.mpg.de" },
{ name = "Hans Fangohr", email = "hans.fangohr@mpsd.mpg.de" },
]

dependencies = ["numpy", "sympy", "pyvista", "scipy", "tqdm"]

[project.optional-dependencies]
dev = ["pytest", "pre-commit", "nbsphinx", "pydata-sphinx-theme", "jupyterlab"]
torch = ["torch", "torchdiffeq"]
jax = ["jax[cuda]", "diffrax", "optax"]

[tool.setuptools.packages.find]
include = ["neuralmag*"]

[tool.black]
exclude = "/field_terms/neuralmag"

[tool.isort]
profile = "black"
skip_gitignore = true  # ignores files listed in .gitignore
skip_glob = ["/neuralmag/field_terms/code/*"]
