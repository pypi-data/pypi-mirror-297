import{kb as e,kF as t,kG as r,k9 as n,kH as s,k8 as i,he as o,hp as a,kI as u,k7 as h,fI as c,hj as d,ho as f,h8 as l,hl as _,kJ as b,kK as p,k5 as v,kL as g,kM as j,kN as m,kO as y,kP as w,hn as C}from"./index-BG3L342Q.js";import{z as E,A,B as N,C as L,D,E as O,F as k,G as F,H as M,I}from"./mermaid-DImZNm8G.js";import{b as P,a as x,h as S,c as U}from"./_baseEach-DQ3PixdX.js";import{d as G,b as B,e as V}from"./transform-Dfo1n8zP.js";function z(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function H(e,t,r,n){for(var s=e.length,i=r+-1;++i<s;)if(t(e[i],i,e))return i;return-1}function R(e){return e!=e}function J(e,t){return!!(null==e?0:e.length)&&function(e,t,r){return t==t?function(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}(e,t,r):H(e,R,r)}(e,t,0)>-1}var K=Object.getOwnPropertySymbols?function(e){for(var r=[];e;)n(r,t(e)),e=N(e);return r}:r;function W(e){return s(e,A,K)}var $=Object.prototype.hasOwnProperty;var q=/\w*$/;var Q=i?i.prototype:void 0,T=Q?Q.valueOf:void 0;function X(e,t,r){var n,s,i,o=e.constructor;switch(t){case"[object ArrayBuffer]":return L(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var r=t?L(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return D(e,r);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return(i=new(s=e).constructor(s.source,q.exec(s))).lastIndex=s.lastIndex,i;case"[object Symbol]":return n=e,T?Object(T.call(n)):{}}}var Y=u&&u.isMap,Z=Y?h(Y):function(e){return o(e)&&"[object Map]"==a(e)};var ee=u&&u.isSet,te=ee?h(ee):function(e){return o(e)&&"[object Set]"==a(e)},re="[object Arguments]",ne="[object Function]",se="[object Object]",ie={};function oe(r,n,s,i,o,u){var h,p=1&n,v=2&n,g=4&n;if(void 0!==h)return h;if(!c(r))return r;var j=_(r);if(j){if(h=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&$.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(r),!p)return O(r,h)}else{var m=a(r),y=m==ne||"[object GeneratorFunction]"==m;if(d(r))return k(r,p);if(m==se||m==re||y&&!o){if(h=v||y?{}:F(r),!p)return v?function(e,t){return E(e,K(e),t)}(r,function(e,t){return e&&E(t,A(t),e)}(h,r)):function(e,r){return E(e,t(e),r)}(r,function(t,r){return t&&E(r,e(r),t)}(h,r))}else{if(!ie[m])return o?r:{};h=X(r,m,p)}}u||(u=new f);var w=u.get(r);if(w)return w;u.set(r,h),te(r)?r.forEach((function(e){h.add(oe(e,n,s,e,r,u))})):Z(r)&&r.forEach((function(e,t){h.set(t,oe(e,n,s,t,r,u))}));var C=j?void 0:(g?v?W:b:v?A:e)(r);return z(C||r,(function(e,t){C&&(e=r[t=e]),l(h,t,oe(e,n,s,t,r,u))})),h}function ae(e){return"function"==typeof e?e:G}function ue(e,t){return(_(e)?z:P)(e,ae(t))}function he(e,t){var r=[];return P(e,(function(e,n,s){t(e,n,s)&&r.push(e)})),r}function ce(e,t){return(_(e)?p:he)(e,x(t))}ie[re]=ie["[object Array]"]=ie["[object ArrayBuffer]"]=ie["[object DataView]"]=ie["[object Boolean]"]=ie["[object Date]"]=ie["[object Float32Array]"]=ie["[object Float64Array]"]=ie["[object Int8Array]"]=ie["[object Int16Array]"]=ie["[object Int32Array]"]=ie["[object Map]"]=ie["[object Number]"]=ie[se]=ie["[object RegExp]"]=ie["[object Set]"]=ie["[object String]"]=ie["[object Symbol]"]=ie["[object Uint8Array]"]=ie["[object Uint8ClampedArray]"]=ie["[object Uint16Array]"]=ie["[object Uint32Array]"]=!0,ie["[object Error]"]=ie[ne]=ie["[object WeakMap]"]=!1;var de=Object.prototype.hasOwnProperty;function fe(e,t){return null!=e&&de.call(e,t)}function le(e,t){return null!=e&&S(e,t,fe)}function _e(t){return null==t?[]:function(e,t){return v(t,(function(t){return e[t]}))}(t,e(t))}function be(e){return void 0===e}function pe(e,t,r,n,s){return s(e,(function(e,s,i){r=n?(n=!1,e):t(r,e,s,i)})),r}function ve(e,t,r){var n=_(e)?g:pe,s=arguments.length<3;return n(e,x(t),r,s,P)}var ge=j&&1/m(new j([,-0]))[1]==1/0?function(e){return new j(e)}:function(){};var je=B((function(e){return function(e,t,r){var n=-1,s=J,i=e.length,o=!0,a=[],u=a;if(i>=200){var h=ge(e);if(h)return m(h);o=!1,s=w,u=new y}else u=a;e:for(;++n<i;){var c=e[n],d=c;if(c=0!==c?c:0,o&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;a.push(c)}else s(u,d,r)||(u!==a&&u.push(d),a.push(c))}return a}(U(e,1,M,!0))})),me="\0";class ye{constructor(e={}){this._isDirected=!le(e,"directed")||e.directed,this._isMultigraph=!!le(e,"multigraph")&&e.multigraph,this._isCompound=!!le(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=V(void 0),this._defaultEdgeLabelFn=V(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[me]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return C(e)||(e=V(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return e(this._nodes)}sources(){var e=this;return ce(this.nodes(),(function(t){return I(e._in[t])}))}sinks(){var e=this;return ce(this.nodes(),(function(t){return I(e._out[t])}))}setNodes(e,t){var r=arguments,n=this;return ue(e,(function(e){r.length>1?n.setNode(e,t):n.setNode(e)})),this}setNode(e,t){return le(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=me,this._children[e]={},this._children[me][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return le(this._nodes,e)}removeNode(t){var r=this;if(le(this._nodes,t)){var n=function(e){r.removeEdge(r._edgeObjs[e])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],ue(this.children(t),(function(e){r.setParent(e)})),delete this._children[t]),ue(e(this._in[t]),n),delete this._in[t],delete this._preds[t],ue(e(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(be(t))t=me;else{for(var r=t+="";!be(r);r=this.parent(r))if(r===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var t=this._parent[e];if(t!==me)return t}}children(t){if(be(t)&&(t=me),this._isCompound){var r=this._children[t];if(r)return e(r)}else{if(t===me)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var r=this._preds[t];if(r)return e(r)}successors(t){var r=this._sucs[t];if(r)return e(r)}neighbors(e){var t=this.predecessors(e);if(t)return je(t,this.successors(e))}isLeaf(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length}filterNodes(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var r=this;ue(this._nodes,(function(r,n){e(n)&&t.setNode(n,r)})),ue(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,r.edge(e))}));var n={};function s(e){var i=r.parent(e);return void 0===i||t.hasNode(i)?(n[e]=i,i):i in n?n[i]:s(i)}return this._isCompound&&ue(t.nodes(),(function(e){t.setParent(e,s(e))})),t}setDefaultEdgeLabel(e){return C(e)||(e=V(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return _e(this._edgeObjs)}setPath(e,t){var r=this,n=arguments;return ve(e,(function(e,s){return n.length>1?r.setEdge(e,s,t):r.setEdge(e,s),s})),this}setEdge(){var e,t,r,n,s=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(e=i.v,t=i.w,r=i.name,2===arguments.length&&(n=arguments[1],s=!0)):(e=i,t=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],s=!0)),e=""+e,t=""+t,be(r)||(r=""+r);var o=Ee(this._isDirected,e,t,r);if(le(this._edgeLabels,o))return s&&(this._edgeLabels[o]=n),this;if(!be(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[o]=s?n:this._defaultEdgeLabelFn(e,t,r);var a=function(e,t,r,n){var s=""+t,i=""+r;if(!e&&s>i){var o=s;s=i,i=o}var a={v:s,w:i};n&&(a.name=n);return a}(this._isDirected,e,t,r);return e=a.v,t=a.w,Object.freeze(a),this._edgeObjs[o]=a,we(this._preds[t],e),we(this._sucs[e],t),this._in[t][o]=a,this._out[e][o]=a,this._edgeCount++,this}edge(e,t,r){var n=1===arguments.length?Ae(this._isDirected,arguments[0]):Ee(this._isDirected,e,t,r);return this._edgeLabels[n]}hasEdge(e,t,r){var n=1===arguments.length?Ae(this._isDirected,arguments[0]):Ee(this._isDirected,e,t,r);return le(this._edgeLabels,n)}removeEdge(e,t,r){var n=1===arguments.length?Ae(this._isDirected,arguments[0]):Ee(this._isDirected,e,t,r),s=this._edgeObjs[n];return s&&(e=s.v,t=s.w,delete this._edgeLabels[n],delete this._edgeObjs[n],Ce(this._preds[t],e),Ce(this._sucs[e],t),delete this._in[t][n],delete this._out[e][n],this._edgeCount--),this}inEdges(e,t){var r=this._in[e];if(r){var n=_e(r);return t?ce(n,(function(e){return e.v===t})):n}}outEdges(e,t){var r=this._out[e];if(r){var n=_e(r);return t?ce(n,(function(e){return e.w===t})):n}}nodeEdges(e,t){var r=this.inEdges(e,t);if(r)return r.concat(this.outEdges(e,t))}}function we(e,t){e[t]?e[t]++:e[t]=1}function Ce(e,t){--e[t]||delete e[t]}function Ee(e,t,r,n){var s=""+t,i=""+r;if(!e&&s>i){var o=s;s=i,i=o}return s+""+i+""+(be(n)?"\0":n)}function Ae(e,t){return Ee(e,t.v,t.w,t.name)}ye.prototype._nodeCount=0,ye.prototype._edgeCount=0;export{ye as G,H as a,oe as b,ae as c,ce as d,ue as f,le as h,be as i,ve as r,_e as v};
