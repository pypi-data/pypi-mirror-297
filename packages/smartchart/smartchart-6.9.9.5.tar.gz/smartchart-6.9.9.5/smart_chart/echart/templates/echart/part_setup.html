
<el-drawer title="CRUD设定"  :visible.sync="dialogSetupVisible" direction="btt" size="60%" :with-header="false" v-if="startRender" :modal="false">
    <div style="padding: 10px"><el-form :model="setupform" ref="setupform" label-width="auto" size="mini" :inline="true">
  <el-tabs tab-position="left">
    <el-tab-pane label="表格显示">
       <el-form-item :label="v.label" v-for="(v, k) in setupform" v-if="v.p==1">
        <el-switch v-if="v.type=='switch'" v-model="setupform[k].value" :disabled="diyKeys.includes(k)"></el-switch>
        <el-color-picker v-else-if="v.type=='color'" v-model="setupform[k].value" :disabled="diyKeys.includes(k)"></el-color-picker>
        <el-input v-else-if="v.type=='input'" v-model="setupform[k].value" autocomplete="off" :placeholder="v.placeholder" :disabled="diyKeys.includes(k)"></el-input>
        <el-input v-else-if="['input_list','input_dict','text_dict','text_dict2'].includes((setupKeyDict[k]||v.type))"  v-model="setupform[k].value" autocomplete="off" :placeholder="v.placeholder" :disabled="diyKeys.includes(k)"><template slot="suffix"><i class="el-icon-edit el-input__icon" @click="openDevDialog(k)" ></i></template></el-input>
        <el-input v-else-if="v.type=='number'" type="number" v-model="setupform[k].value" style="width:60px" autocomplete="off" :placeholder="v.placeholder" :disabled="diyKeys.includes(k)"></el-input>
       </el-form-item>
      </el-tab-pane>
      <el-tab-pane label="筛选过滤">
        <el-form-item :label="v.label" v-for="(v, k) in setupform" v-if="v.p==2">
        <el-switch v-if="v.type=='switch'" v-model="setupform[k].value" :disabled="diyKeys.includes(k)"></el-switch>
        <el-color-picker v-else-if="v.type=='color'" v-model="setupform[k].value" :disabled="diyKeys.includes(k)"></el-color-picker>
        <el-input v-else-if="v.type=='input'" v-model="setupform[k].value" autocomplete="off" :placeholder="v.placeholder" :disabled="diyKeys.includes(k)"></el-input>
        <el-input v-else-if="['input_list','input_dict','text_dict','text_dict2'].includes((setupKeyDict[k]||v.type))"  v-model="setupform[k].value" autocomplete="off" :placeholder="v.placeholder" :disabled="diyKeys.includes(k)"><template slot="suffix"><i class="el-icon-edit el-input__icon" @click="openDevDialog(k)" ></i></template></el-input>
        <el-input v-else-if="v.type=='number'" type="number" v-model="setupform[k].value" style="width:60px" autocomplete="off" :placeholder="v.placeholder" :disabled="diyKeys.includes(k)"></el-input>
       </el-form-item>
      </el-tab-pane>
      <el-tab-pane label="新增修改">
         <el-form-item :label="v.label" v-for="(v, k) in setupform" v-if="v.p==3">
        <el-switch v-if="v.type=='switch'" v-model="setupform[k].value" :disabled="diyKeys.includes(k)"></el-switch>
        <el-color-picker v-else-if="v.type=='color'" v-model="setupform[k].value" :disabled="diyKeys.includes(k)"></el-color-picker>
        <el-input v-else-if="v.type=='input'" v-model="setupform[k].value" autocomplete="off" :placeholder="v.placeholder" :disabled="diyKeys.includes(k)"></el-input>
        <el-input v-else-if="['input_list','input_dict','text_dict','text_dict2'].includes((setupKeyDict[k]||v.type))"  v-model="setupform[k].value" autocomplete="off" :placeholder="v.placeholder" :disabled="diyKeys.includes(k)"><template slot="suffix"><i class="el-icon-edit el-input__icon" @click="openDevDialog(k)" ></i></template></el-input>
        <el-input v-else-if="v.type=='number'" type="number" v-model="setupform[k].value" style="width:60px" autocomplete="off" :placeholder="v.placeholder" :disabled="diyKeys.includes(k)"></el-input>
       </el-form-item>
      </el-tab-pane>
  </el-tabs>
    </el-form><div style="text-align: center"><el-button type="info" @click="save_crud(false)">预览</el-button><el-button type="warning" @click="save_crud(true)">保存</el-button></div></div>
<div>
<el-dialog  :visible.sync="dialogDevFormVisible" width="60%" :append-to-body="true" :modal="false">
    <el-alert :title="devValue.key+devValue.msg" type="info" :description="setupform.nameDict.value" show-icon :closable="false"></el-alert><el-input  type="textarea" autosize v-model="devValue.value"></el-input>
  <div slot="footer"><el-button @click="dialogDevFormVisible=false;dialogSetupVisible=true">取消</el-button><el-button type="primary" @click="saveDevValue">确定</el-button></div>
</el-dialog>
    </div>

</el-drawer>