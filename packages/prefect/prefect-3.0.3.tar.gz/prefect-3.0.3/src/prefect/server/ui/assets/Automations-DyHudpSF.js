import{d as A,h as b,k as r,o as s,c,j as o,l as t,n as m,m as e,A as h,v,G as V,H as P,y as d,a as C,B as T,C as $,z as q,F as k,X as z,t as E,i as y,D as F,E as G,I as H,q as I,U as S,J as X}from"./index-CfSL_DzU.js";import{u as j}from"./usePageTitle-TG-RZAHq.js";import{u as w}from"./usePrefectApi-DAxo_AEZ.js";const J={class:"automation-card__header"},L={class:"automation-card__header-actions"},W={key:0,class:"automation-card__description"},K={class:"automation-card__label"},M=A({__name:"AutomationCard",props:{automation:{}},emits:["update"],setup(B,{emit:p}){const l=p,_=b();return(a,n)=>{const f=r("p-link"),u=r("p-content"),g=r("p-card");return s(),c(g,{class:"automation-card"},{default:o(()=>[t(u,null,{default:o(()=>[t(u,{secondary:""},{default:o(()=>[m("div",J,[t(f,{class:"automation-card__name",to:e(_).automation(a.automation.id)},{default:o(()=>[h(v(a.automation.name),1)]),_:1},8,["to"]),m("div",L,[t(e(V),{automation:a.automation,onUpdate:n[0]||(n[0]=i=>l("update"))},null,8,["automation"]),t(e(P),{automation:a.automation,onDelete:n[1]||(n[1]=i=>l("update"))},null,8,["automation"])])]),a.automation.description?(s(),d("p",W,v(a.automation.description),1)):C("",!0)]),_:1}),t(u,{secondary:""},{default:o(()=>[n[2]||(n[2]=m("span",{class:"automation-card__label"},"Trigger",-1)),t(e(T),{trigger:a.automation.trigger},null,8,["trigger"])]),_:1}),t(u,{secondary:""},{default:o(()=>[m("span",K,v(e($)("Action",a.automation.actions.length)),1),(s(!0),d(k,null,q(a.automation.actions,i=>(s(),c(g,{key:i.id},{default:o(()=>[t(e(z),{action:i},null,8,["action"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}}}),Z=A({__name:"Automations",setup(B){const p=b();j("Automations");const l=[{text:"Automations"}],_=w(),a=E(_.automations.getAutomations),n=y(()=>a.response??[]),f=y(()=>a.executed),u=y(()=>n.value.length===0);return(g,i)=>{const O=r("p-button"),U=r("p-virtual-scroller"),D=r("p-layout-default");return s(),c(D,{class:"automations"},{header:o(()=>[t(e(I),{crumbs:l},F({"after-crumbs":o(()=>[t(O,{size:"sm",icon:"PlusIcon",to:e(p).automationCreate()},null,8,["to"])]),_:2},[u.value?void 0:{name:"actions",fn:o(()=>[t(e(G),{to:e(H).docs.automations},{default:o(()=>i[0]||(i[0]=[h(" Documentation ")])),_:1},8,["to"])]),key:"0"}]),1024)]),default:o(()=>[f.value?(s(),d(k,{key:0},[u.value?(s(),c(e(S),{key:0})):(s(),d(k,{key:1},[t(e(X),{count:n.value.length,label:"automation"},null,8,["count"]),t(U,{items:n.value,class:"automations-list"},{default:o(({item:N})=>[t(M,{automation:N,onUpdate:e(a).refresh},null,8,["automation","onUpdate"])]),_:1},8,["items"])],64))],64)):C("",!0)]),_:1})}}});export{Z as default};
//# sourceMappingURL=Automations-DyHudpSF.js.map
